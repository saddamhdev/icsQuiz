Here is the **exact Architecture Diagram (ERD + System Architecture)** for the entity classes you requested.
This diagram shows:

* Tables
* Relationships (1:N, N:1)
* JSONB fields
* Submission flow
* How Quiz â†’ Question â†’ Submission â†’ SubmissionAnswer is connected

---

# ðŸŸ¦ **1. ENTITY RELATIONSHIP DIAGRAM (ERD)**

Below is the architecture diagram of your entity classes:

---

# ðŸ§© **ERD â€“ Textual Representation (Exact Mapping of Your Entity Classes)**

```
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        1       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       1       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚   users   â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ submissionsâ”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ submission_answers â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        ^                             ^                              â”‚
        â”‚                             â”‚                              â”‚ N
        â”‚  N                          â”‚ N                            â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚   quizzes â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚ questions â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚ quiz_questionâ”‚ (optional)
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        1       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        N        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# ðŸŸ¦ **2. Detailed Diagram (Logical Architecture)**

### **users**

* id (PK)
* name
* email
* passwordHash

**1 user â†’ many submissions**

---

### **quizzes**

* id (PK)
* title
* totalQuestions
* duration
* shuffle

**1 quiz â†’ many questions**
**1 quiz â†’ many submissions**

---

### **questions**

* id (PK)
* quiz_id (FK)
* questionText
* options (jsonb)
* correctAnswers (jsonb)

---

### **submissions**

* id (PK)
* quiz_id (FK)
* user_id (FK)
* submittedAt
* startTime
* endTime
* duration
* status
* score

**1 submission â†’ many submission_answers**

---

### **submission_answers**

* id (PK)
* submission_id (FK)
* question_id (FK)
* selectedOptions (jsonb)
* correct (boolean)
* timeTaken

---

# ðŸŸ¦ **3. Clean Diagram (Matching Your Entity Classes)**

```
 USERS (1) ----------- (N) SUBMISSIONS (1) ----------- (N) SUBMISSION_ANSWERS
                        â”‚                                 â”‚
                        â”‚                                 â”‚
                      (N)                               (1)
                        â”‚                                 â”‚
 QUIZZES (1) ------- (N) QUESTIONS (1) ----------------- (N)
```

âœ” Multi-select (JSONB) supported
âœ” Many-to-One relations clearly shown
âœ” Submission & answer mapping clear

---

# ðŸŸ¦ **4. System Architecture Diagram (Backend + DB + Kafka + Redis)**

This shows how your entities work together in the real system.

---

# ðŸŸ¦ **5. Final Architecture Diagram (Combined Full View)**

### **API Layer**

```
React/Web â†’ API Gateway â†’ Quiz Submission API
```

### **Internal Services**

```
Quiz Service  â†’ uses Quiz, Question
Submission Service â†’ uses Submission, SubmissionAnswer
Scoring/Worker â†’ computes score, updates DB
```

### **Databases**

```
PostgreSQL
  â”œâ”€â”€ users
  â”œâ”€â”€ quizzes
  â”œâ”€â”€ questions
  â”œâ”€â”€ submissions
  â””â”€â”€ submission_answers

Redis (cache)
Kafka (event buffer)
```

---

# â­ If You Want

I can generate a **perfect, clean ERD Image (PNG/SVG)** EXACTLY like this with:

âœ” Table names
âœ” Columns
âœ” PK / FK
âœ” Relation lines
âœ” JSONB fields marked

Just tell me:

**â€œDraw the ERD diagram as an imageâ€**
and I will generate it.
